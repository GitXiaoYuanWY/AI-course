# 板块一：课程概述
## 一、课程回顾
1. 基础节点的认知
2. 复杂节点的认知
3. 基础与复杂工作流的制作
## 二、学习目标
1. 自动化生成工作流的步骤以及注意要点
2. 了解什么是自定义节点
3. 后续的学习步骤与课程链接
## 三、章节内容
1. 使用MCP自动化生成工作流
2. 自定义节点的开发与拓展
3. 一些节点与经验分享
# 板块二：课程内容
## 一、使用MCP自动化生成工作流
### （一）MCP是什么？
1. MCP概述
	- 定义：推出的一种开放标准，旨在统一大模型与外部数据源和工具之间的通信协议。
	- 核心功能：
		- 让大模型能像人一样“调用软件工具”；
		- 让开发者可以轻松扩展模型的能力（如访问数据库、API、文件系统）；
		- 让大模型能直接与自动化系统（如 N8N）交互，实现“AI 调度自动化”。
### （二）MCP 在 N8N 中的应用场景
1. 智能生成工作流：通过 MCP，AI 模型可以直接调用 N8N 的接口自动创建节点与流程。
2. 动态任务执行：  让 AI 根据实时指令动态修改节点参数（如更换 API、调整触发条件）。
3. 跨平台自动化：  通过 MCP，N8N 不仅能与本地工具连接，还能与云端模型双向交互。
4. AI 助理与工作流共生： 例如，AI 助理在 MCP 框架下可以直接“生成、运行、修改” N8N 工作流。
5. 自然语言创建工作流：“帮我创建一个工作流，每天早上抓取微博热搜前10并发到飞书群。”  
AI 就能直接用 MCP 调用 N8N API，自动构建出完整工作流。
### （三）使用MCP自动生成工作流的流程
1. 安装node.js（20版本以上）
2. 应用本地安装
	1. 本地文件夹打开cmd
	2. 输入git clone https://github.com/leonardsellem/n8n-mcp-server.git
	3. 打开package.json文件，删除第8行的tsc后的内容
	4. 输入cd 你的本地文件夹
	5. 输入npm install
	6. 再次输入npm run build
3. 在trae中配置mcp服务
	1. 回到浏览器页面，复制示例配置
	2. 打开trae，点击mcp；点击添加—手动添加
	3. 将复制的内容粘贴到里面
	4. 修改第六行：从/build/index.js前输出你安装的本地文件夹，将前面的\修改成/
	5. 修改第九行：修改成http://localhost:5678/api/v1
	6. 修改第十行：
		1. 打开n8n→setting→n8n API→create an API Key
		2. 命名之后将有效时长改为永久
		3. 复制API Keys粘贴到trae的第十行就结束了
4. 根据相同的步骤你可以在任何支持mcp的工具上配置N8N的mcp
## 二、自定义节点的开发与拓展
### （一）什么是自定义节点
1. 自定义节点是由开发者自行创建的功能模块，用于扩展 N8N 的能力，让它支持更多场景或接口
2. 它本质上是一个**封装了特定逻辑的 JavaScript 模块**。
	- 官方节点 = 工厂标准件 
	- 自定义节点 = 你自己造的“特制零件”
### （二）自定义节点的开发
1. 前置条件
	- 具备基本的 Node.js 开发环境；
	- 安装 n8n-node-dev 工具；
	- 创建新的节点模板。
### （二）NPM包集成
- 所有自定义节点最终都可以发布为 NPM 包（如 `n8n-nodes-yourplugin`）。
- 发布后可通过 N8N 的 **Community Nodes** 功能一键安装。
- 这样，你的节点不仅能自己用，还能共享给全球社区。
### （三）code节点
- Code节点本身也可以理解为“轻量级自定义节点”。
- 当你的逻辑仅需几行脚本时，无需打包NPM。
- 可以直接在Code节点中用JavaScript实现复杂数据处理、API调用或逻辑判断。
## 三、一些节点与经验分享
### （一）一些没有讲到的自动化工作流
1. 自动化创作视频封面与标题的节点
2. 自动化生成AI短视频的节点
### （二）一些经验分享
1. 多问AI，多用AI
	- 不懂的问题，先问AI，它往往能帮你生成思路或初版节点逻辑。
    - “AI + 自动化” 是提升学习与效率的最佳组合。
2. 多看API文档与开发文档
	- 任何新功能的核心都在官方文档；
	-  学会快速查文档比死记命令更重要。
3. 工作流拆分/分布式执行（解耦）
	- 将大工作流拆分为若干“子流程”（Sub-workflow）；
	- 每个子流程只处理单一任务，彼此通过Webhook触发；
	- 优点：便于维护、减少出错、执行更快。